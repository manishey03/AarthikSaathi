@page "/dashboard"
@using AarthikSaathi_22069007.Models
@using AarthikSaathi_22069007.Utilities
@inject NavigationManager NavigationManager


<div style="max-width: 900px; margin: auto; padding: 20px; font-family: Arial, sans-serif;">
    <h2 style="text-align: center; color: #2D9CFD;">Transaction Dashboard</h2>

    <!-- Summary Cards -->
    <div style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-top: 20px;">
        <div style="flex: 1 1 250px; background: #E3F2FD; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
            <h3 style="color: #2D9CFD;">Total Inflows</h3>
            <p style="font-size: 24px; font-weight: bold;">$5000</p>
        </div>
        <div style="flex: 1 1 250px; background: #FFEBEE; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
            <h3 style="color: #F44336;">Total Outflows</h3>
            <p style="font-size: 24px; font-weight: bold;">$3000</p>
        </div>
        <div style="flex: 1 1 250px; background: #FFF8E1; padding: 20px; border-radius: 8px; text-align: center; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
            <h3 style="color: #FF9800;">Total Debts</h3>
            <p style="font-size: 24px; font-weight: bold;">$200</p>
        </div>
    </div>

    <!-- Top Transactions -->
    <div style="margin-top: 40px;">
        <h3 style="color: #2D9CFD;">Top Transactions</h3>
        <ul style="list-style: none; padding: 0;">
            <li style="padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-bottom: 10px; background: #FAFAFA;">Highest Inflow: $2000</li>
            <li style="padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-bottom: 10px; background: #FAFAFA;">Lowest Outflow: $50</li>
            <li style="padding: 10px; border: 1px solid #ddd; border-radius: 6px; margin-bottom: 10px; background: #FAFAFA;">Highest Debt: $500</li>
        </ul>
    </div>
</div>


@code {
    private string Username { get; set; }
    private string Password { get; set; }
    private string ErrorMessage { get; set; }

    private async Task PerformLogin() // Renamed from Login to
    {
        try
        {
            var users = await JsonFileHandler.ReadDataAsync<User>("wwwroot/data/users.json");
            var user = users.FirstOrDefault(u => u.Username == Username && u.Password == Password);

            if (user != null)
            {
                ErrorMessage = string.Empty;
                NavigationManager.NavigateTo("/");
            }
            else
            {
                ErrorMessage = "Invalid username or password.";
            }
        }
        catch (Exception ex)
        {
            ErrorMessage = "An error occurred: " + ex.Message;
        }
    }
}
