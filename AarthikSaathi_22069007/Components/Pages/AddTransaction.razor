@page "/addTransaction"
@using AarthikSaathi_22069007.Models
@using AarthikSaathi_22069007.Utilities
@inject NavigationManager NavigationManager

<div style="max-width: 600px; margin: auto; padding: 20px; font-family: Arial, sans-serif; background: #f9f9f9; border-radius: 12px; box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);">
    <h2 style="text-align: center; color: #2D9CFD;">Add Transaction</h2>

    <div style="margin-bottom: 20px;">
        <label for="transactionType" style="font-size: 14px; color: #555;">Transaction Type</label>
        <select id="transactionType" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fff; margin-top: 5px;">
            <option value="credit">Credit</option>
            <option value="debit">Debit</option>
            <option value="debt">Debt</option>
        </select>
    </div>

    <div style="margin-bottom: 20px;">
        <label for="amount" style="font-size: 14px; color: #555;">Amount</label>
        <input type="number" id="amount" placeholder="Enter amount" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fff; margin-top: 5px;" />
    </div>

    <div style="margin-bottom: 20px;">
        <label for="tags" style="font-size: 14px; color: #555;">Tags</label>
        <input type="text" id="tags" placeholder="e.g., groceries, rent" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fff; margin-top: 5px;" />
    </div>

    <div style="margin-bottom: 20px;">
        <label for="notes" style="font-size: 14px; color: #555;">Notes</label>
        <textarea id="notes" placeholder="Add additional details..." style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; background: #fff; margin-top: 5px; height: 100px;"></textarea>
    </div>

    <button style="width: 100%; padding: 14px; background: #2D9CFD; color: white; font-size: 16px; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); transition: 0.3s;">
        Add Transaction
    </button>
</div>

@code {
    private string Username { get; set; }
    private string Password { get; set; }
    private string ErrorMessage { get; set; }

    private async Task PerformLogin() // Renamed from Login to
    {
        try
        {
            var users = await JsonFileHandler.ReadDataAsync<User>("wwwroot/data/users.json");
            var user = users.FirstOrDefault(u => u.Username == Username && u.Password == Password);

            if (user != null)
            {
                ErrorMessage = string.Empty;
                NavigationManager.NavigateTo("/");
            }
            else
            {
                ErrorMessage = "Invalid username or password.";
            }
        }
        catch (Exception ex)
        {
            ErrorMessage = "An error occurred: " + ex.Message;
        }
    }
}
